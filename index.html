<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <h1>Etch A Sketch</h1>

    <button class="open-canvas">Open Canvas</button>
    <form>
      <div class="canvas-size-text">16 x 16</div>
      <input type="range" min="1" max="64" step="1" class="canvas-size" />
      <div class="block-size-text">10 x 10</div>
      <input type="range" min="10" max="100" step="5" class="block-size" />
      <input type="color" />
    </form>

    <div class="container"></div>

    <style>
      html {
        margin: 0;
        padding: 0;
      }

      body {
        margin: 0;
        padding: 0;
      }

      h1 {
        background-color: aquamarine;
        margin: 0;
      }

      .container {
        display: grid;
        justify-content: center;
        width: 100px;
        height: 100px;
      }

      .grid-item {
        width: auto;
        height: auto;
        background-color: black;
        border: 1px solid red;
      }
    </style>

    <script>
      const container = document.querySelector(".container");
      const open_canvas = document.querySelector(".open-canvas");
      const canvas_size_input = document.querySelector(".canvas-size");
      const block_size_input = document.querySelector(".block-size");
      const color = document.querySelector('[type ="color"]');
      const canvas_size_text = document.querySelector(".canvas-size-text");

      let block_size = 10;
      let size = 16;

      isCanvasOpen = false;

      function setCanvasSize() {
        size = this.value;
        canvas_size_text.innerHTML = `${this.value} x ${this.value}`;
      }

      function setBlockSize() {
        document.querySelectorAll(".grid-item").style.width = this.value;
      }

      function setColor() {
        console.log(this.value);
      }

      function gridSize(size) {
        if (isCanvasOpen == false) {
          container.style.gridTemplateColumns = `repeat(${size}, auto)`;
          for (let i = 0; i < size * size; i++) {
            let newDiv = document.createElement("div");
            newDiv.classList.add("grid-item");
            container.appendChild(newDiv);
            console.log(i);
          }
          isCanvasOpen = true;
        }
      }

      open_canvas.addEventListener("click", () => gridSize(size));
      canvas_size_input.addEventListener("change", setCanvasSize);
      block_size_input.addEventListener("change", setBlockSize);
      color.addEventListener("change", setColor);
    </script>
  </body>
</html>
