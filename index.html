<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <h1>Etch A Sketch</h1>

    <main>
      <div class="canvas-settings">
        <form>
          <div class="canvas-size-text">16 x 16</div>
          <input
            type="range"
            min="1"
            max="64"
            step="1"
            value="16"
            class="canvas-size"
          />
          <input type="color" value="#79dbba" />
          <button class="color-rainbow">Rainbow</button>
          <button class="open-canvas" type="submit">Open Canvas</button>
        </form>
      </div>
      <div class="container"></div>
    </main>

    <footer>Thank you! :)</footer>

    <style>
      main {
        display: flex;
        justify-content: center;
        gap: 10%;
        margin: 10px;
      }

      html {
        margin: 0;
        padding: 0;
      }

      body {
        margin: 0;
        padding: 0;
      }

      h1 {
        background-color: #79dbba;
        margin: 0;
      }

      form {
        display: flex;
        flex-direction: column;
        height: 400px;
        justify-content: center;
      }

      .canvas-settings {
        display: flex;
        flex-direction: column;
      }
      .container {
        display: grid;
        justify-content: center;
        width: 500px;
        height: 500px;
        box-shadow: rgba(0, 0, 0, 0.35) 0px 5px 15px;
      }

      .grid-item {
        width: auto;
        height: auto;
        border: 0.01px solid rgba(0, 0, 0, 0.35);
      }

      .grid-item.color {
        width: auto;
        height: auto;
        border: 0.01px solid rgba(0, 0, 0, 0.35);
      }
    </style>

    <script>
      const container = document.querySelector(".container");
      const open_canvas = document.querySelector(".open-canvas");
      const canvas_size_input = document.querySelector(".canvas-size");
      const pick_color = document.querySelector('[type ="color"]');
      const canvas_size_text = document.querySelector(".canvas-size-text");
      const color_rainbow = document.querySelector(".color-rainbow");

      let size = 16;
      let color = "#79dbba";

      function openCanvas() {
        container.style.gridTemplateColumns = `repeat(${size}, 1fr)`;

        for (let i = 0; i < size * size; i++) {
          let newDiv = document.createElement("div");
          newDiv.classList.add("grid-item");
          container.appendChild(newDiv);
        }
      }

      openCanvas();

      function setCanvasSize() {
        size = this.value;
        canvas_size_text.innerHTML = `${this.value} x ${this.value}`;
      }

      function setColor() {
        color = this.value;
      }

      function colorRainbow(e) {
        e.preventDefault();
        console.log("rainbow");
      }

      function gridSize(e) {
        e.preventDefault();
        container.innerHTML = "";
        container.style.gridTemplateColumns = `repeat(${size}, 1fr)`;

        for (let i = 0; i < size * size; i++) {
          let newDiv = document.createElement("div");
          newDiv.classList.add("grid-item");
          container.appendChild(newDiv);
        }
      }

      open_canvas.addEventListener("click", (e) => gridSize(e));
      canvas_size_input.addEventListener("change", setCanvasSize);
      pick_color.addEventListener("change", setColor);
      color_rainbow.addEventListener("click", (e) => colorRainbow(e));

      
    </script>
  </body>
</html>
